<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRVY-0.35.0: Performance Timer Utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRVY-0.35.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Performance Timer Utilities<div class="ingroups"><a class="el" href="group___c_x_xapi.html">C++ API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Performance Timer - Initialization and Timer Demarcation:</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp8c980e42714f1634a30bc4a9c2d03839"></a>The following member functions provide support for defining one or more wall-clock timers around specific code regions. Individual timers are delineated by a unique <em>id</em>. In addition to timing specific code regions identified with begin/end calls, the library also tracks the total application time from when the timing library was first initialized. </p>
</td></tr>
<tr class="memitem:ga02263fb6e64d9554ab8872c9482c3719"><td class="memItemLeft" align="right" valign="top"><a id="ga02263fb6e64d9554ab8872c9482c3719"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_x_xtimer.html#ga02263fb6e64d9554ab8872c9482c3719">GRVY::GRVY_Timer_Class::Init</a> (std::string name)</td></tr>
<tr class="separator:ga02263fb6e64d9554ab8872c9482c3719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a526826ab1eb95f827bf25c9a9383b5"><td class="memItemLeft" align="right" valign="top"><a id="ga4a526826ab1eb95f827bf25c9a9383b5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_x_xtimer.html#ga4a526826ab1eb95f827bf25c9a9383b5">GRVY::GRVY_Timer_Class::BeginTimer</a> (std::string id)</td></tr>
<tr class="separator:ga4a526826ab1eb95f827bf25c9a9383b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga390d160b9876fafd20b339af90801b4f"><td class="memItemLeft" align="right" valign="top"><a id="ga390d160b9876fafd20b339af90801b4f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_x_xtimer.html#ga390d160b9876fafd20b339af90801b4f">GRVY::GRVY_Timer_Class::EndTimer</a> (std::string id)</td></tr>
<tr class="separator:ga390d160b9876fafd20b339af90801b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f737e7a55a5f3ee8218f7356c4c3b94"><td class="memItemLeft" align="right" valign="top"><a id="ga6f737e7a55a5f3ee8218f7356c4c3b94"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_x_xtimer.html#ga6f737e7a55a5f3ee8218f7356c4c3b94">GRVY::GRVY_Timer_Class::Finalize</a> ()</td></tr>
<tr class="separator:ga6f737e7a55a5f3ee8218f7356c4c3b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Performance Timer - Query Tools:</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp2c5836fade165e5fc760dad032455550"></a>The following member functions allow for the querying of defined performance timers. </p>
</td></tr>
<tr class="memitem:ga5038542c8cf3148600688a22739a645a"><td class="memItemLeft" align="right" valign="top"><a id="ga5038542c8cf3148600688a22739a645a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::ElapsedSeconds</b> (std::string id)</td></tr>
<tr class="separator:ga5038542c8cf3148600688a22739a645a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e5a54c3f95286ce87cc77f3a4a9272e"><td class="memItemLeft" align="right" valign="top"><a id="ga8e5a54c3f95286ce87cc77f3a4a9272e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::ElapsedGlobal</b> ()</td></tr>
<tr class="separator:ga8e5a54c3f95286ce87cc77f3a4a9272e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f9179adfcd2c8ffb8e00b405ef58b74"><td class="memItemLeft" align="right" valign="top"><a id="ga2f9179adfcd2c8ffb8e00b405ef58b74"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::RawTimer</b> ()</td></tr>
<tr class="separator:ga2f9179adfcd2c8ffb8e00b405ef58b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92a1318f7afe6727e12c1ff4857eec08"><td class="memItemLeft" align="right" valign="top"><a id="ga92a1318f7afe6727e12c1ff4857eec08"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::Reset</b> ()</td></tr>
<tr class="separator:ga92a1318f7afe6727e12c1ff4857eec08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga209caed87effadb298ff5281c7acf8e6"><td class="memItemLeft" align="right" valign="top"><a id="ga209caed87effadb298ff5281c7acf8e6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::Summarize</b> ()</td></tr>
<tr class="separator:ga209caed87effadb298ff5281c7acf8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe8e88024abe3e766d61c53229b037b3"><td class="memItemLeft" align="right" valign="top"><a id="gafe8e88024abe3e766d61c53229b037b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::SetSummarizeWidth</b> (const int width)</td></tr>
<tr class="separator:gafe8e88024abe3e766d61c53229b037b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae47074b27736c23811dc25f4e47796b"><td class="memItemLeft" align="right" valign="top"><a id="gaae47074b27736c23811dc25f4e47796b"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsCount</b> (std::string id)</td></tr>
<tr class="separator:gaae47074b27736c23811dc25f4e47796b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c9a9d963c5a74ee99dcf7837b8e1cf7"><td class="memItemLeft" align="right" valign="top"><a id="ga0c9a9d963c5a74ee99dcf7837b8e1cf7"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsMean</b> (std::string id)</td></tr>
<tr class="separator:ga0c9a9d963c5a74ee99dcf7837b8e1cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea57251c9788f40db4670942ef94488e"><td class="memItemLeft" align="right" valign="top"><a id="gaea57251c9788f40db4670942ef94488e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsVariance</b> (std::string id)</td></tr>
<tr class="separator:gaea57251c9788f40db4670942ef94488e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade4baf35547e379359896f1ad5811cfd"><td class="memItemLeft" align="right" valign="top"><a id="gade4baf35547e379359896f1ad5811cfd"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsMin</b> (std::string id)</td></tr>
<tr class="separator:gade4baf35547e379359896f1ad5811cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3adcd531b29b1c82348155171d742de"><td class="memItemLeft" align="right" valign="top"><a id="gaa3adcd531b29b1c82348155171d742de"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsMax</b> (std::string id)</td></tr>
<tr class="separator:gaa3adcd531b29b1c82348155171d742de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d413fe99eaa64818d20e32a487ec526"><td class="memItemLeft" align="right" valign="top"><a id="ga6d413fe99eaa64818d20e32a487ec526"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::ElapsedSeconds_inc</b> (std::string id)</td></tr>
<tr class="separator:ga6d413fe99eaa64818d20e32a487ec526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ad755d80e3c8b900c51999ed3fa1532"><td class="memItemLeft" align="right" valign="top"><a id="ga6ad755d80e3c8b900c51999ed3fa1532"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsMean_inc</b> (std::string id)</td></tr>
<tr class="separator:ga6ad755d80e3c8b900c51999ed3fa1532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8265c9e8a57b0e1cddff2a795990d8f"><td class="memItemLeft" align="right" valign="top"><a id="gaf8265c9e8a57b0e1cddff2a795990d8f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsVariance_inc</b> (std::string id)</td></tr>
<tr class="separator:gaf8265c9e8a57b0e1cddff2a795990d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6efa219a2aca4b6ebe06346f41c3a1b2"><td class="memItemLeft" align="right" valign="top"><a id="ga6efa219a2aca4b6ebe06346f41c3a1b2"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsMin_inc</b> (std::string id)</td></tr>
<tr class="separator:ga6efa219a2aca4b6ebe06346f41c3a1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c7ac91cd0aa3c08edb38cdd98117b39"><td class="memItemLeft" align="right" valign="top"><a id="ga1c7ac91cd0aa3c08edb38cdd98117b39"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::StatsMax_inc</b> (std::string id)</td></tr>
<tr class="separator:ga1c7ac91cd0aa3c08edb38cdd98117b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Performance Timing - Historical Logging:</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpa54e45bb5f88e02396afef80a07e90b2"></a>These member functions provide support to store measured runtime performance into an HDF5 file for logging purposes (this functionality requires HDF5 library linkage during the libGRVY configuration phase). Results are stored on a per-machine basis and are appended to the HDF5 file with timestamps to document historical performance over time. Stored results can be retrieved using the API below or via standalone executables installed with libGRVY.</p>
<p>There are two primary modes for saving historical performance data:</p>
<p><b>Mode 1</b>: you are using the GRVY_Timer_Class to define individual sections to monitor and want to save the global runtime measurement along with all individually defined subtimers.</p>
<p><b>Mode 2</b>: you are using other means to profile the application code and want to save a single global timing value. Routines for this mode are distinguished by the presence of an extra "timing" argument in the calling sequence.</p>
<p>In both modes, standard and expanded (exp) calling sequences are supported with the expanded version allowing additional optional runtime documentation (e.g. flops, code revision) to be provided. </p>
</td></tr>
<tr class="memitem:gae5fdfef83e7f6a2b074d1d5e005e49f8"><td class="memItemLeft" align="right" valign="top"><a id="gae5fdfef83e7f6a2b074d1d5e005e49f8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::SaveHistTiming</b> (std::string experiment, std::string comment, int num_procs, std::string filename)</td></tr>
<tr class="separator:gae5fdfef83e7f6a2b074d1d5e005e49f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53cddabc461aeff01e9e0ad595aded93"><td class="memItemLeft" align="right" valign="top"><a id="ga53cddabc461aeff01e9e0ad595aded93"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::SaveHistTiming</b> (std::string experiment, std::string comment, int num_procs, int jobId, std::string code_revision, double flops, std::string filename)</td></tr>
<tr class="separator:ga53cddabc461aeff01e9e0ad595aded93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d149f84b21dcbf16472de55494cb5ba"><td class="memItemLeft" align="right" valign="top"><a id="ga8d149f84b21dcbf16472de55494cb5ba"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::SaveHistTiming</b> (double timing, std::string machinename, std::string experiment, std::string comment, int num_procs, std::string filename)</td></tr>
<tr class="separator:ga8d149f84b21dcbf16472de55494cb5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga245de8672d68b3dd77d854d511aa78b0"><td class="memItemLeft" align="right" valign="top"><a id="ga245de8672d68b3dd77d854d511aa78b0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::SaveHistTiming</b> (double timing, std::string machinename, std::string experiment, std::string comment, int num_procs, int jobId, std::string code_revision, double flops, std::string filename)</td></tr>
<tr class="separator:ga245de8672d68b3dd77d854d511aa78b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08b38cf8d4ee8fb31652cc99234b2557"><td class="memItemLeft" align="right" valign="top"><a id="ga08b38cf8d4ee8fb31652cc99234b2557"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>GRVY::GRVY_Timer_Class::SummarizeHistTiming</b> (std::string filename, std::string delimiter, std::string outdir)</td></tr>
<tr class="separator:ga08b38cf8d4ee8fb31652cc99234b2557"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This section presents the C++ class for measuring runtime performance of specific code sections to aid in overall performance/statistical analysis, and to maintain historical performance records as application codes evolve or across alternate compute platforms. Individual code timers are defined based on BeginTimer/EndTimer demarcation around the desired code snippet to measure along with a unique user-provided id string. Note that individual timers can be nested and the library will report exclusive timing of the innermost timers. Various options are provided to interrogate timer measurements, statistics, and relative timer comparisons. A convenient use of these routines is to define timers around various important work constructs within your application and use the Summarize() function to obtain a concise summary of the runtime performance, variability, and relative wallclock comparisions. Example output using this approach is shown below: </p>
<div class="fragment"><div class="line">-----------------------------------------------------------------------------------------------</div>
<div class="line">GRVY Example Timing - Performance Timings:              |      Mean      Variance       Count</div>
<div class="line">--&gt; foo                 : 3.00978e+00 secs ( 64.0889 %) | [3.00978e-01  2.70727e-08         10]</div>
<div class="line">--&gt; boo                 : 1.17648e+00 secs ( 25.0513 %) | [1.17648e-01  2.35981e-08         10]</div>
<div class="line">--&gt; bar                 : 5.09513e-01 secs ( 10.8493 %) | [5.09513e-02  5.02795e-08         10]</div>
<div class="line">--&gt; Main Program        : 4.48704e-04 secs (  0.0096 %) | [4.48704e-04  0.00000e+00          1]</div>
<div class="line">--&gt; GRVY_Unassigned     : 4.02927e-05 secs (  0.0009 %)</div>
<div class="line"> </div>
<div class="line">    Total Measured Time = 4.69626e+00 secs (100.0000 %)</div>
<div class="line">-----------------------------------------------------------------------------------------------</div>
</div><!-- fragment --><p><b>Namespace:</b> All libGRVY C++ classes are contained with the GRVY namespace.</p>
<p><b>Class Name:</b> GRVY::GRVY_Timer_Class</p>
<p><b> Code Example</b>: A specific C++ example using the performance timing routines is available in <a class="el" href="_c_x_xtimer_example.html">cpp-timer.cpp</a>.</p>
<hr  />
 </div><!-- contents -->
<hr size="1"/><address style="text-align: right;"><small>
Generated on Mon Nov 29 2021 23:33:04 for GRVY-0.35.0
by&nbsp;<a href="http://www.doxygen.org/index.html">
<em>doxygen</em></a>
1.8.17</small></address>
</body>
</html>
